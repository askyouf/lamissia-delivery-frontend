{% extends "base.html" %}

{% block title %}Акции - LDELIVERY{% endblock %}

{% block content %}
<div class="container py-5">
    <h1 class="display-4 text-center mb-2">Акции и предложения</h1>
    <p class="text-center text-muted mb-5">Выгодные предложения для наших клиентов</p>

        <!-- Секция с афишами акций -->
        <div class="special-offers mb-5">
            <h2 class="h3 mb-4">Специальные предложения</h2>
            <div class="row g-4">
                <!-- Афиша 1 -->
                <div class="col-lg-6">
                    <div class="offer-card">
                        <div class="offer-image">
                            <img src="https://placehold.co/600x300" alt="Акция" class="img-fluid">
                            <div class="offer-badge">Новинка</div>
                        </div>
                        <div class="offer-content">
                            <h3>Комбо-обед со скидкой 25%</h3>
                            <p class="offer-description">Закажите комбо-обед из супа, салата и горячего блюда по специальной цене. Акция действует по будням с 12:00 до 16:00.</p>
                            <div class="offer-footer">
                                <span class="offer-period">До 31 января</span>
                                <a href="{{ url_for('menu') }}" class="btn btn-primary">Заказать</a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Афиша 2 -->
            <div class="col-lg-6">
                <div class="offer-card">
                    <div class="offer-image">
                        <img src="https://placehold.co/600x300" alt="Акция" class="img-fluid">
                        <div class="offer-badge">Хит</div>
                    </div>
                    <div class="offer-content">
                        <h3>2 пиццы по цене 1</h3>
                        <p class="offer-description">При заказе любой большой пиццы вторая пицца в подарок. Акция действует на доставку и самовывоз.</p>
                        <div class="offer-footer">
                            <span class="offer-period">До 25 января</span>
                            <a href="{{ url_for('menu') }}" class="btn btn-primary">Заказать</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row g-4">
        <!-- Акция 1 -->
        <div class="col-lg-4 col-md-6">
            <div class="promo-card">
                <div class="promo-icon">
                    <i class="bi bi-percent"></i>
                </div>
                <div class="promo-content">
                    <h3>Скидка 20% на первый заказ</h3>
                    <p>Для новых клиентов при заказе от 1500₽</p>
                    <div class="promo-code">
                        <span class="code">FIRSTORDER</span>
                        <button class="copy-btn" onclick="copyCode('FIRSTORDER')">
                            <i class="bi bi-clipboard"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Акция 2 -->
        <div class="col-lg-4 col-md-6">
            <div class="promo-card">
                <div class="promo-icon">
                    <i class="bi bi-clock"></i>
                </div>
                <div class="promo-content">
                    <h3>Счастливые часы</h3>
                    <p>Скидка 15% на все меню с 14:00 до 17:00</p>
                    <div class="promo-code">
                        <span class="code">HAPPY</span>
                        <button class="copy-btn" onclick="copyCode('HAPPY')">
                            <i class="bi bi-clipboard"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Акция 3 -->
        <div class="col-lg-4 col-md-6">
            <div class="promo-card">
                <div class="promo-icon">
                    <i class="bi bi-gift"></i>
                </div>
                <div class="promo-content">
                    <h3>День рождения</h3>
                    <p>Скидка 25% в день рождения и 3 дня после</p>
                    <div class="promo-code">
                        <span class="code">BIRTHDAY</span>
                        <button class="copy-btn" onclick="copyCode('BIRTHDAY')">
                            <i class="bi bi-clipboard"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    

    <!-- Информационный блок -->
    <div class="info-section mt-5">
        <div class="info-card">
            <div class="info-icon">
                <i class="bi bi-info-circle"></i>
            </div>
            <div class="info-content">
                <h4>Как использовать промокод?</h4>
                <div class="steps-list">
                    <div class="step-item">
                        <div class="step-number">1</div>
                        <div class="step-text">Выберите понравившиеся блюда</div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">2</div>
                        <div class="step-text">Перейдите в корзину</div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">3</div>
                        <div class="step-text">Введите промокод в специальное поле</div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">4</div>
                        <div class="step-text">Скидка будет применена автоматически</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.promo-card {
    background: white;
    border-radius: 24px;
    padding: 2rem;
    height: 100%;
    position: relative;
    transition: all 0.3s ease;
    border: 1px solid rgba(0, 0, 0, 0.05);
    box-shadow: 
        0 4px 20px rgba(0, 0, 0, 0.05),
        inset 0 0 0 1px rgba(255, 255, 255, 0.5);
    overflow: hidden;
}

.promo-card:hover {
    transform: translateY(-5px);
    box-shadow: 
        0 8px 30px rgba(0, 0, 0, 0.1),
        inset 0 0 0 1px rgba(255, 255, 255, 0.6);
}

.promo-icon {
    background: var(--primary-color);
    color: white;
    width: 60px;
    height: 60px;
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1.5rem;
    font-size: 1.8rem;
    position: relative;
    overflow: hidden;
}

.promo-icon::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 100%);
}

.promo-content h3 {
    font-size: 1.4rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: #2d3436;
}

.promo-content p {
    color: #636e72;
    margin-bottom: 1.5rem;
    font-size: 1rem;
    line-height: 1.5;
}

.promo-code {
    background: #f8f9fa;
    border-radius: 12px;
    padding: 0.8rem 1rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.promo-code .code {
    font-family: monospace;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--primary-color);
    letter-spacing: 1px;
}

.copy-btn {
    background: white;
    border: none;
    width: 35px;
    height: 35px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: #636e72;
    transition: all 0.2s ease;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
}

.copy-btn:hover {
    background: var(--primary-color);
    color: white;
    transform: translateY(-2px);
}

.info-section {
    max-width: 800px;
    margin: 0 auto;
}

.info-card {
    background: #f8f9fa;
    border-radius: 24px;
    padding: 2rem;
    display: flex;
    align-items: flex-start;
    gap: 2rem;
}

.info-icon {
    font-size: 2rem;
    color: var(--primary-color);
    flex-shrink: 0;
}

.info-content h4 {
    font-size: 1.2rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: #2d3436;
}

.steps-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin: 0;
    padding: 0;
    list-style: none;
}

.step-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.5rem;
    border-radius: 12px;
    transition: all 0.3s ease;
}

.step-item:hover {
    background: rgba(255, 255, 255, 0.8);
}

.step-number {
    background: var(--primary-color);
    color: white;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 0.9rem;
    flex-shrink: 0;
    position: relative;
}

.step-number::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    width: 2px;
    height: 1rem;
    background: var(--primary-color);
    opacity: 0.2;
}

.step-item:last-child .step-number::after {
    display: none;
}

.step-text {
    color: #2d3436;
    font-size: 1rem;
    line-height: 1.4;
}

.offer-card {
    background: white;
    border-radius: 24px;
    overflow: hidden;
    box-shadow: 
        0 4px 20px rgba(0, 0, 0, 0.05),
        inset 0 0 0 1px rgba(255, 255, 255, 0.5);
    height: 100%;
    transition: transform 0.3s ease;
}

.offer-card:hover {
    transform: translateY(-5px);
}

.offer-image {
    position: relative;
    overflow: hidden;
}

.offer-image img {
    width: 100%;
    height: 300px;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.offer-card:hover .offer-image img {
    transform: scale(1.05);
}

.offer-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: var(--primary-color);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 30px;
    font-weight: 500;
    font-size: 0.9rem;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.offer-content {
    padding: 1.5rem;
}

.offer-content h3 {
    font-size: 1.3rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: #2d3436;
}

.offer-description {
    color: #636e72;
    margin-bottom: 1.5rem;
    line-height: 1.5;
}

.offer-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-top: 1rem;
    border-top: 1px solid rgba(0, 0, 0, 0.05);
}

.offer-period {
    color: #636e72;
    font-size: 0.9rem;
    font-weight: 500;
}

@media (max-width: 768px) {
    .promo-card {
        padding: 1.5rem;
    }
    
    .promo-icon {
        width: 50px;
        height: 50px;
        font-size: 1.5rem;
        border-radius: 16px;
    }
    
    .info-card {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
    }
    
    .info-icon {
        margin: 0 auto;
    }
    
    .info-card {
        padding: 1.5rem;
    }

    .steps-list {
        gap: 1.2rem;
    }

    .step-item {
        padding: 0.5rem 0;
    }

    .step-number {
        width: 32px;
        height: 32px;
        font-size: 1rem;
    }

    .step-text {
        font-size: 0.95rem;
    }

    .step-number::after {
        left: 50%;
        transform: translateX(-50%);
        height: 1.2rem;
    }

    .offer-image img {
        height: 200px;
    }
    
    .offer-content {
        padding: 1.2rem;
    }
    
    .offer-content h3 {
        font-size: 1.2rem;
    }
    
    .offer-description {
        font-size: 0.95rem;
        margin-bottom: 1rem;
    }
    
    .offer-badge {
        font-size: 0.8rem;
        padding: 0.4rem 0.8rem;
    }
}
</style>

<script>
function copyCode(code) {
    navigator.clipboard.writeText(code).then(() => {
        const btn = event.currentTarget;
        const icon = btn.querySelector('i');
        
        // Изменяем иконку на галочку
        icon.classList.remove('bi-clipboard');
        icon.classList.add('bi-check2');
        
        // Через 2 секунды возвращаем исходную иконку
        setTimeout(() => {
            icon.classList.remove('bi-check2');
            icon.classList.add('bi-clipboard');
        }, 2000);
    });
}
</script>
{% endblock %}
